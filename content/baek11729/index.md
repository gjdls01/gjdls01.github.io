---
emoji: 👨🏻‍
title: 백준 11729번 - 하노이 탑 이동 순서
date: '2023-02-17 00:00:00'
author: 허인
tags: 백준 자료구조 알고리즘 재귀
categories: 알고리즘
---

세 개의 장대가 있고 첫 번째 장대에는 반경이 서로 다른 n개의 원판이 쌓여 있다. 각 원판은 반경이 큰 순서대로 쌓여있다. 이제 수도승들이 다음 규칙에 따라 첫 번째 장대에서 세 번째 장대로 옮기려 한다.<br>
1. 한 번에 한 개의 원판만을 다른 탑으로 옮길 수 있다.
2. 쌓아 놓은 원판은 항상 위의 것이 아래의 것보다 작아야 한다.
이 작업을 수행하는데 필요한 이동 순서를 출력하는 프로그램을 작성해야 한다. 단, 이동 횟수는 최소가 되어야 한다. <br><br>
입력값으로 첫 번째 장대에 쌓인 원판의 개수 N(1 ≤ N ≤ 20)이 주어진다. 이에 다음과 같은 결과값을 출력하는 프로그램을 작성해야 한다. <br><br>
1. 첫째 줄에 옮긴 횟수 K를 출력한다.
2. 두 번째 줄부터 수행 과정을 출력한다. 두 번째 줄부터 K개의 줄에 걸쳐 두 정수 A B를 빈칸을 사이에 두고 출력하는데, 이는 A번째 탑의 가장 위에 있는 원판을 B번째 탑의 가장 위로 옮긴다는 뜻이다.<br><br>

이때 떠올려야 하는 것은, 바로 ‘재귀’이다.<br>
1. N-1개의 원판을 A에서 B로 옮긴다
2. A의 마지막 원판을 C로 옮긴다
3. N-1개의 원판을 C로 옮긴다<br><br>

위의 원리르 코드로 구현하면, 다음과 같다.<br><br>
```
def hanoi(n, a, c):
    if n == 1:
        print(a, c)
    else:
        hanoi(n - 1, a, 6-a-c)
        print(a,c)
        hanoi(n - 1, 6-a-c, c) 

n = int(input())
print(2 ** n - 1)
hanoi(n, 1, 3)
```
<br><br> 
이때, 최소 이동 휫수는 2의 n승에서 1을 뺸 값임을 확인할 수 있는데, 이는 기본적인 실험으로부터 도출된 결과이다. 가령, 원판수 = 1일 경우, 최소이동횟수는 1 = 2-1, 2개일 때에는 3 (2의 2승 뺴기 1), 3개일 때에는 7(2의 3승 빼기 1). 결국 원판의 개수가 n일 때의 최소 이동 횟수는 2의 n승에서 1을 뺀 값이라는 결론을 내리게 된다.
